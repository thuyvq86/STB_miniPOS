<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>PCL Library: Companion Connection State</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ingenico.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">PCL Library
   &#160;<span id="projectnumber">version 5.11</span>
   </div>
   <div id="projectbrief">provides all the needed APIs to control your Ingenico device (iSMP, iSMP Companion and iCMP)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___i_c_device_i_s_m_p_connection.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#prop-members">Properties</a>  </div>
  <div class="headertitle">
<div class="title">Companion Connection State</div>  </div>
</div><!--header-->
<div class="contents">

<p>Check and get notified about connection changes between the iDevice and Companion.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gafde39144239c11aa8dcdf7e4626742f9"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="group___i_c_device_i_s_m_p_connection.html#gafde39144239c11aa8dcdf7e4626742f9">isAvailable</a></td></tr>
<tr class="memdesc:gafde39144239c11aa8dcdf7e4626742f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">The connection state to the device.  <a href="#gafde39144239c11aa8dcdf7e4626742f9">More...</a><br/></td></tr>
<tr class="separator:gafde39144239c11aa8dcdf7e4626742f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabff393d74dea30e9a5e1f91787774644"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="group___i_c_device_i_s_m_p_connection.html#gabff393d74dea30e9a5e1f91787774644">accessoryDidConnect:</a></td></tr>
<tr class="memdesc:gabff393d74dea30e9a5e1f91787774644"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when the Companion is availaible. Use isKindOf to know which Companion was connected.  <a href="#gabff393d74dea30e9a5e1f91787774644">More...</a><br/></td></tr>
<tr class="separator:gabff393d74dea30e9a5e1f91787774644"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1153fa1aea152afb7573104edd4f192e"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="group___i_c_device_i_s_m_p_connection.html#ga1153fa1aea152afb7573104edd4f192e">accessoryDidDisconnect:</a></td></tr>
<tr class="memdesc:ga1153fa1aea152afb7573104edd4f192e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when the Companion is disconnected. Use isKindOf to know which Companion was disconnected.  <a href="#ga1153fa1aea152afb7573104edd4f192e">More...</a><br/></td></tr>
<tr class="separator:ga1153fa1aea152afb7573104edd4f192e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="prop-members"></a>
Properties</h2></td></tr>
<tr class="memitem:ga220c49ae2ee7d78352028fb36892d1ce"><td class="memItemLeft" align="right" valign="top">NSString *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_device_i_s_m_p_connection.html#ga220c49ae2ee7d78352028fb36892d1ce">protocolName</a></td></tr>
<tr class="memdesc:ga220c49ae2ee7d78352028fb36892d1ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">The name of the external accessory protocol implemented by <a class="el" href="interface_i_c_i_s_m_p_device.html">ICISMPDevice</a>.  <a href="#ga220c49ae2ee7d78352028fb36892d1ce">More...</a><br/></td></tr>
<tr class="separator:ga220c49ae2ee7d78352028fb36892d1ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga65fb58877522dacd68937d70121bacd5"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_device_i_s_m_p_connection.html#ga65fb58877522dacd68937d70121bacd5">isAvailable</a></td></tr>
<tr class="memdesc:ga65fb58877522dacd68937d70121bacd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The state of the <a class="el" href="interface_i_c_i_s_m_p_device.html">ICISMPDevice</a>.  <a href="#ga65fb58877522dacd68937d70121bacd5">More...</a><br/></td></tr>
<tr class="separator:ga65fb58877522dacd68937d70121bacd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga11bcae5753643feb152007d705cb0bae"><td class="memItemLeft" align="right" valign="top">NSInputStream *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_device_i_s_m_p_connection.html#ga11bcae5753643feb152007d705cb0bae">inStream</a></td></tr>
<tr class="memdesc:ga11bcae5753643feb152007d705cb0bae"><td class="mdescLeft">&#160;</td><td class="mdescRight">This property is a pointer to the input stream opened by the <a class="el" href="interface_i_c_i_s_m_p_device.html">ICISMPDevice</a> to read data from the Companion.  <a href="#ga11bcae5753643feb152007d705cb0bae">More...</a><br/></td></tr>
<tr class="separator:ga11bcae5753643feb152007d705cb0bae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad49315fc02a1570bc6114598f08a8046"><td class="memItemLeft" align="right" valign="top">NSOutputStream *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_device_i_s_m_p_connection.html#gad49315fc02a1570bc6114598f08a8046">outStream</a></td></tr>
<tr class="memdesc:gad49315fc02a1570bc6114598f08a8046"><td class="mdescLeft">&#160;</td><td class="mdescRight">This property is a pointer to the output stream opened by the <a class="el" href="interface_i_c_i_s_m_p_device.html">ICISMPDevice</a> to send data to the Companion.  <a href="#gad49315fc02a1570bc6114598f08a8046">More...</a><br/></td></tr>
<tr class="separator:gad49315fc02a1570bc6114598f08a8046"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Check and get notified about connection changes between the iDevice and Companion. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gabff393d74dea30e9a5e1f91787774644"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) accessoryDidConnect: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_i_c_i_s_m_p_device.html">ICISMPDevice</a> *)&#160;</td>
          <td class="paramname"><em>sender</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called when the Companion is availaible. Use isKindOf to know which Companion was connected. </p>
<p><a class="anchor" id="accessoryDidConnect"></a></p>
<p>When this method is triggered, the device is ready to communicate with the payment module.<br/>
 The <a class="el" href="group___i_c_device_i_s_m_p_connection.html#accessoryDidConnect">accessoryDidConnect</a> event is fired each time that the channel is opened. It is not necessary to do any further initialization of the device, since it connects automatically to an external accessory using the same protocol whenever it is detected. The <b>sender</b> parameter informs the delegate about the channel that has just been activated so that it can perform any related process accordingly. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sender</td><td>A pointer to the object that fired the <a class="el" href="group___i_c_device_i_s_m_p_connection.html#accessoryDidConnect">accessoryDidConnect</a> event </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga1153fa1aea152afb7573104edd4f192e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) accessoryDidDisconnect: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_i_c_i_s_m_p_device.html">ICISMPDevice</a> *)&#160;</td>
          <td class="paramname"><em>sender</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called when the Companion is disconnected. Use isKindOf to know which Companion was disconnected. </p>
<p><a class="anchor" id="accessoryDidDisconnect"></a></p>
<p>This event is fired once even if many <a class="el" href="interface_i_c_i_s_m_p_device.html">ICISMPDevice</a> channels have been opened to the external payment module. It notifies the delegate that the communication with the device will be interrupted. It is, then, up to the application to decide what should happen thereafter; display a disconnection notification to the user and tell him to reconnect and reboot the device, or just tell him to wait until the device resets if it is the case. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sender</td><td>A pointer to the object that fired the <a class="el" href="group___i_c_device_i_s_m_p_connection.html#accessoryDidDisconnect">accessoryDidDisconnect</a> event </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gafde39144239c11aa8dcdf7e4626742f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (BOOL) isAvailable </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The connection state to the device. </p>
<dl class="section return"><dt>Returns</dt><dd>YES if the Companion is connected, no otherwise </dd></dl>

</div>
</div>
<h2 class="groupheader">Properties</h2>
<a class="anchor" id="ga11bcae5753643feb152007d705cb0bae"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSInputStream *) inStream</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">atomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This property is a pointer to the input stream opened by the <a class="el" href="interface_i_c_i_s_m_p_device.html">ICISMPDevice</a> to read data from the Companion. </p>
<p>Serial input stream</p>
<p>This can be an input stream provided by the Companion session opened by the iOS application to the terminal, or can be an input stream set manually (for testing). In both situations, it can be used to spy the state of the stream. </p>

</div>
</div>
<a class="anchor" id="ga65fb58877522dacd68937d70121bacd5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) isAvailable</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">atomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The state of the <a class="el" href="interface_i_c_i_s_m_p_device.html">ICISMPDevice</a>. </p>
<p>Companion connection state</p>
<p>This attribute indicates the state of an <a class="el" href="interface_i_c_i_s_m_p_device.html">ICISMPDevice</a>. It is set to NO if the channel corresponding to the protocol name is not open. It is set to YES once the channel is opened. </p>

</div>
</div>
<a class="anchor" id="gad49315fc02a1570bc6114598f08a8046"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSOutputStream *) outStream</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">atomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This property is a pointer to the output stream opened by the <a class="el" href="interface_i_c_i_s_m_p_device.html">ICISMPDevice</a> to send data to the Companion. </p>
<p>Serial output stream</p>
<p>Like for the input stream, this property provides access to a Companion session's stream or to a stream set manually.</p>

</div>
</div>
<a class="anchor" id="ga220c49ae2ee7d78352028fb36892d1ce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSString *) protocolName</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">nonatomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The name of the external accessory protocol implemented by <a class="el" href="interface_i_c_i_s_m_p_device.html">ICISMPDevice</a>. </p>
<p>IAP protocol name that the <a class="el" href="interface_i_c_i_s_m_p_device.html">ICISMPDevice</a> uses for communication with the Companion</p>
<p>The protocol names conform to the reverse DNS format.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Nov 28 2014 17:19:56 for PCL Library by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.4 </li>
  </ul>
</div>
</body>
</html>
